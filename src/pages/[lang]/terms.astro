---
import Container from "../../components/shared/Container.astro";
import Layout from "../../layouts/Layout.astro";
import { ui, defaultLang, languages } from '../../i18n/ui';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';
import { languages } from '../../i18n/config';

// Define the dynamic language parameter
export async function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({
    params: { lang }, // The dynamic parameter (e.g., "en", "zh")
    props: { lang }, // Pass the language as a prop
  }));
}
const lang = getLangFromUrl(Astro.url); // 获取当前语言
const t = useTranslations(lang); // 使用翻译函数

const lastUpdated = "2024.12.21"
---

<Layout title={t("termsOfService.title")}>
  <Container>
    <div class="py-20">
      <div class="max-w-4xl mx-auto">
        <h1 class="text-4xl font-bold mb-4 text-gray-900 dark:text-white">{t("termsOfService.title")}</h1>
        <p class="text-gray-600 dark:text-gray-400 mb-8">{t("termsOfService.lastUpdated")}: {lastUpdated}</p>
        
        <div class="space-y-8 text-gray-700 dark:text-gray-300">
          <!-- 1. Acceptance of Terms -->
          <section>
            <h2 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-100">{t("termsOfService.introduction.title")}</h2>
            <p class="mb-4">{t("termsOfService.introduction.content")}</p>
          </section>

          <!-- 2. License -->
          <section>
            <h2 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-100">{t("termsOfService.license.title")}</h2>
            <p class="mb-4">{t("termsOfService.license.content")}</p>
          </section>

          <!-- 3. User Responsibilities -->
          <section>
            <h2 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-100">{t("termsOfService.userResponsibilities.title")}</h2>
            <p class="mb-4">{t("termsOfService.userResponsibilities.content")}</p>
            <ul class="list-disc pl-6 space-y-2">
              {t("termsOfService.userResponsibilities.items").map((item) => (
                <li>{item}</li>
              ))}
            </ul>
          </section>

          <!-- 4. Disclaimer -->
          <section>
            <h2 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-100">{t("termsOfService.disclaimer.title")}</h2>
            <p class="mb-4">{t("termsOfService.disclaimer.content")}</p>
          </section>

          <!-- 5. Limitation of Liability -->
          <section>
            <h2 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-100">{t("termsOfService.limitationOfLiability.title")}</h2>
            <p class="mb-4">{t("termsOfService.limitationOfLiability.content")}</p>
          </section>

          <!-- 6. Changes to Terms of Service -->
          <section>
            <h2 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-100">{t("termsOfService.changesToTerms.title")}</h2>
            <p class="mb-4">{t("termsOfService.changesToTerms.content")}</p>
          </section>

          <!-- 7. Governing Law -->
          <section>
            <h2 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-100">{t("termsOfService.governingLaw.title")}</h2>
            <p class="mb-4">{t("termsOfService.governingLaw.content")}</p>
          </section>

          <!-- 8. Dispute Resolution -->
          <section>
            <h2 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-100">{t("termsOfService.disputeResolution.title")}</h2>
            <p class="mb-4">{t("termsOfService.disputeResolution.content")}</p>
          </section>

          <!-- 9. Contact Us -->
          <section>
            <h2 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-100">{t("termsOfService.contactUs.title")}</h2>
            <p>{t("termsOfService.contactUs.content")}</p>
            <div class="mt-4 p-4 bg-gray-100 dark:bg-gray-800 rounded-lg">
              <p class="mb-2"><strong class="text-gray-900 dark:text-gray-100">Email:</strong> <a href={`mailto:${t("termsOfService.contactUs.email")}`} class="text-primary hover:underline">{t("termsOfService.contactUs.email")}</a></p>
            </div>
          </section>
        </div>
      </div>
    </div>
  </Container>
</Layout>